<!-- route.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>WhereTo | Jeepney Route Finder</title>
  <link rel="icon" href="/WTFavicon.png" type="image/png">
  <link rel="stylesheet" href="route.css" />
</head>
<body>
  <!-- ===== HEADER ===== -->
  <header>
    <div class="header-left">
      <img src="compass.PNG" alt="Compass" class="icon" />
      <img src="Logo.PNG" alt="WhereTo Logo" class="logo" />
    </div>
    <div class="header-right">
      <img src="favorites.png" alt="Help" class="icon" />
      <img src="pin.png" alt="User" class="icon" />
    </div>
  </header>

  <!-- Main Route Display -->
  <% if (error) { %>
    <div class="big-box">
      <h1>Error</h1>
      <p><%= error %></p>
    </div>
  <% } else if (routes && routes.length > 0) { %>
    <% routes.forEach((route, index) => { %>
      <div class="big-box">
        <h1 id="routeTitle"><%= route.name %> (<%= route.status %>)</h1>
        <p id="routeTime">Route from <%= from %> to <%= to %> - Estimated travel time: 45-60 minutes</p>
        <div class="small-box">
          <button class="nav-btn" onclick="window.location.href='/nav'">
            <span>Start Navigation</span>
          </button>
        </div>
      </div>

      <div class="big-box second">
        <h1>Directions for <%= route.name %></h1>
        <% if (route.steps && route.steps.length > 0) { %>
          <% route.steps.forEach((step, stepIndex) => { %>
            <div class="small-box">
              <img src="route.png" alt="Jeep Left" class="small-icon left">
              <span>Step <%= stepIndex + 1 %>.</span>
              <p><%= step %></p>
            </div>
          <% }); %>
        <% } else { %>
          <div class="small-box">
            <p>No detailed steps available for this route.</p>
          </div>
        <% } %>
      </div>
    <% }); %>
  <% } else { %>
    <div class="big-box">
      <h1>No Routes Found</h1>
      <p>No routes available from <%= from %> to <%= to %>. Please try a different search or check back later.</p>
    </div>
  <% } %>

  <!-- Route Alerts (kept as is, or customize) -->
  <div class="big-box third">
    <h1>Route Alerts</h1>
    <div class="small-box">
      <img src="route.png" alt="Jeep Left" class="small-icon left">
      <span>Route tip</span>
      <p>During rush hours...</p>
    </div>
  </div>

  <!-- ===== WHITE CONTENT AREA ===== -->
  <section class="content-section">
    <div class="buttons-row">
      <button class="info-btn" onclick="window.location.href='/LiveMap'">
        <img src="map.png" alt="Routes" />
        <span>Live Map</span>
      </button>
      <button class="info-btn" onclick="window.location.href='/destination'">
        <img src="route.png" alt="Alter" />
        <span>Find Alternative</span>
      </button>
    </div>
  </section>

</body>
</html>